<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RED ROAD MAP | Secure Access</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />

  <style>
    :root{
      --ink:#0d2b1f;
      --muted:rgba(0,0,0,.75);
      --accent:#2aa36a;          /* ì§„í•œ ë¯¼íŠ¸ */
      --focus:rgba(42,163,106,.20);
      --bg:#eaf8f1;
    }
    *{box-sizing:border-box;}

    body{
      margin:0; min-height:100vh; overflow:hidden;
      font-family:'Pretendard',sans-serif;
      color:var(--ink); background:var(--bg);
      display:flex; align-items:center;
      position:relative;
    }

    /* ===== ë°°ê²½ ===== */
    .bg,
    .bg-front{position:fixed; inset:0; pointer-events:none;}
    .bg-front{
      z-index:1;
      background:url("{{ url_for('static', filename='img/login_signup.png') }}") center/cover no-repeat;
      opacity:.96; filter:saturate(.9) brightness(1.02);
    }

    /* ===== ë ˆì´ì•„ì›ƒ: ì˜¤ë¥¸ìª½ 60% ì˜ì—­ ì¤‘ì•™ ì •ë ¬ ===== */
    .wrap{
      width:60%;
      margin-left:auto;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:0 4vw;
      position:relative;
      z-index:5;
      text-align:center;
    }

    /* ===== ë¸Œëœë“œ (ë¡œê³  + í…ìŠ¤íŠ¸ ê°€ë¡œ ë°°ì¹˜) ===== */
    .brand{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;               /* ë¡œê³ ì™€ ê¸€ì”¨ ê°„ê²© */
      margin:0 auto 18px;     /* í¼ê³¼ì˜ ê°„ê²© */
      width:100%;
    }
    .logo{
      width:120px; height:auto;   /* ë¡œê³  í¬ê¸° ì¶•ì†Œ */
      display:block;
      filter: drop-shadow(0 2px 6px rgba(0,0,0,.1));
    }
    .brand-text{
      font-size:40px;             /* í…ìŠ¤íŠ¸ í™•ëŒ€ */
      font-weight:900;
      color:#0d2b1f;
      letter-spacing:.5px;
      text-shadow:0 1px 2px rgba(0,0,0,.1);
      white-space:nowrap;
    }

    /* ===== í¼: í‹€ ì œê±° & ë°ì€ ì¸í’‹ ===== */
    .form-panel{
      background:transparent; border:none; box-shadow:none;
      max-width:520px; width:min(46vw, 520px);
      padding:0;
      display:flex; flex-direction:column; gap:18px;
      color:var(--ink);
    }

    form{ display:flex; flex-direction:column; gap:16px; }

    .field{ display:flex; flex-direction:column; gap:8px; position:relative; text-align:left; }
    label{ font-size:14px; color:var(--muted); font-weight:600; }

    input[type="text"], input[type="password"]{
      height:46px; padding:12px 16px;
      border-radius:12px;
      border:1px solid rgba(0,0,0,.14);
      background:rgba(255,255,255,.95);
      color:#0d2b1f; font-size:15px; outline:none;
      box-shadow:0 8px 20px rgba(0,0,0,.08);
    }
    input::placeholder{ color:rgba(0,0,0,.45); }
    input:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 4px var(--focus);
      background:#fff;
    }

    .icon{
      position:absolute; top:36px; right:12px;
      background:none; border:0; color:rgba(0,0,0,.6); cursor:pointer;
    }

    .btn{
      display:flex; 
      align-items:center; 
      justify-content:center;

      height:48px;             /* ë™ì¼ ë†’ì´ */
      padding:0 20px;          /* ì¢Œìš° íŒ¨ë”© */
      font-size:16px;          /* ê¸€ì í¬ê¸° í†µì¼ */
      font-weight:700;
      border-radius:14px;      /* ë™ì¼ ë¼ìš´ë“œ */
      cursor:pointer;
      transition:transform .05s ease, filter .2s ease;

      border:0;
      background:var(--accent);
      color:#fff;
      box-shadow:0 10px 22px rgba(42,163,106,.25);
    }
    .btn:active{ transform:translateY(1px); }

    .btn:hover{
      text-decoration:underline; /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œë§Œ ë°‘ì¤„ */
    }

    .btn-alt{
      display:flex; 
      align-items:center; 
      justify-content:center;

      height:48px;             /* ë™ì¼ ë†’ì´ */
      padding:0 20px;          /* ì¢Œìš° íŒ¨ë”© */
      font-size:16px;          /* ê¸€ì í¬ê¸° í†µì¼ */
      font-weight:700;
      border-radius:14px;      /* ë™ì¼ ë¼ìš´ë“œ */
      cursor:pointer;
      transition:filter .2s ease;
      text-decoration:none;

      background:rgba(255,255,255,.92);
      border:1px solid rgba(0,0,0,.1);
      color:#0d2b1f;
    }

    .btn-alt:hover{
      text-decoration:underline; /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œë§Œ ë°‘ì¤„ */
    }

    .row-foot{
      display:flex; justify-content:space-between;
      font-size:12px; color:rgba(0,0,0,.62); margin-top:4px;
    }

    @media (max-width: 960px){
      .wrap{ width:100%; margin:0; padding:5vw; }
      .form-panel{ width:100%; max-width:520px; }
      .brand-text{ font-size:24px; }
      .logo{ width:110px; }
    }
    @media (max-width: 600px){
      .logo{ width:100px; }
      .brand-text{ font-size:22px; }
    }
  </style>
</head>
<body>
  <div class="bg"></div>
  <div class="bg-front"></div>

  <main class="wrap">
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <script>alert("{{ messages[0] }}");</script>
      {% endif %}
    {% endwith %}

    <section class="form-panel">
      <!-- ë¡œê³  + í…ìŠ¤íŠ¸ (ê°€ë¡œ) -->
      <div class="brand">
        <img src="{{ url_for('static', filename='img/mainlogo.png') }}" alt="ë¡œê³ " class="logo" />
        <span class="brand-text">TacNav -R</span>
      </div>

      <form method="POST" action="{{ url_for('login') }}" autocomplete="off">
        <div class="field">
          <label for="user_id">ì•„ì´ë””</label>
          <input id="user_id" name="user_id" type="text" placeholder="ì˜ˆ: rrm.officer" required />
        </div>

        <div class="field">
          <label for="user_pw">ë¹„ë°€ë²ˆí˜¸</label>
          <input id="user_pw" name="user_pw" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required />
          <button class="icon" type="button" id="togglePw" aria-label="ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ ì „í™˜">ğŸ‘</button>
        </div>

        <button class="btn" type="submit">ë¡œê·¸ì¸</button>
        <a class="btn-alt" href="{{ url_for('signup') }}">íšŒì›ê°€ì…</a>

        <div class="row-foot">
          <span>Â© RED ROAD MAP</span>
          <span>ì ‘ì† ê¸°ë¡ì´ ì €ì¥ë©ë‹ˆë‹¤</span>
        </div>
      </form>
    </section>
  </main>

  <script>
    const t=document.getElementById('togglePw');
    if(t){
      t.addEventListener('click',()=>{
        const pw=document.getElementById('user_pw');
        if(pw) pw.type = pw.type==='password' ? 'text' : 'password';
      });
    }
  </script>
</body>
</html>
